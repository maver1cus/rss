!function(t){function e(e){for(var n,a,i=e[0],r=e[1],c=0,s=[];c<i.length;c++)a=i[c],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&s.push(o[a][0]),o[a]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);for(l&&l(e);s.length;)s.shift()()}var n={},a={0:0},o={0:0};function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[];a[t]?e.push(a[t]):0!==a[t]&&{1:1}[t]&&e.push(a[t]=new Promise((function(e,n){for(var o=({}[t]||t)+".c328ab5ee2e1e79f0548.css",r=i.p+o,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var l=(y=c[s]).getAttribute("data-href")||y.getAttribute("href");if("stylesheet"===y.rel&&(l===o||l===r))return e()}var m=document.getElementsByTagName("style");for(s=0;s<m.length;s++){var y;if((l=(y=m[s]).getAttribute("data-href"))===o||l===r)return e()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=e,u.onerror=function(e){var o=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete a[t],u.parentNode.removeChild(u),n(i)},u.href=r,document.getElementsByTagName("head")[0].appendChild(u)})).then((function(){a[t]=0})));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,a){n=o[t]=[e,a]}));e.push(n[2]=r);var c,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(t){return i.p+""+({}[t]||t)+".c328ab5ee2e1e79f0548.js"}(t);var l=new Error;c=function(e){s.onerror=s.onload=null,clearTimeout(m);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,n[1](l)}o[t]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:s})}),12e4);s.onerror=s.onload=c,document.head.appendChild(s)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var r=window.webpackJsonp=window.webpackJsonp||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var s=0;s<r.length;s++)e(r[s]);var l=c;i(i.s=0)}([function(t,e,n){"use strict";function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],a=!0,o=!1,i=void 0;try{for(var r,c=t[Symbol.iterator]();!(a=(r=c.next()).done)&&(n.push(r.value),!e||n.length!==e);a=!0);}catch(t){o=!0,i=t}finally{try{a||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function c(t,e,n){var i,r=null;try{r=document.createElement(t)}catch(t){throw new Error("Unable to create HTMLElement! Give a proper tag name")}e&&(i=r.classList).add.apply(i,o(e.split(" "))),n&&(r.innerHTML=n);for(var c=arguments.length,s=new Array(c>3?c-3:0),l=3;l<c;l++)s[l-3]=arguments[l];return s.length&&s.forEach((function(t){var e=a(t,2),n=e[0],o=e[1];""===o&&r.setAttribute(n,""),n.match(/value|id|placeholder|cols|rows|autocorrect|spellcheck/)?r.setAttribute(n,o):r.dataset[n]=o})),r}function s(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}n.r(e);var l=function(){function t(e){var n=e.mainSymbol,a=e.shift,o=e.code,i=e.type;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.code=o,this.type=i,this.char=n,this.mainSymbol=n,this.shift=a,this.isFnKey="functional"===i,this.button=c("button","keyboard__key",this.mainSymbol,["code",this.code],["fn",this.isFnKey],["type",this.type])}var e,n,a;return e=t,(n=[{key:"getTemplate",value:function(t){return'\n        <span class="symbol">'.concat(t,"</span>\n    ")}}])&&s(e.prototype,n),a&&s(e,a),t}(),m={ru:[{mainSymbol:"Caps",shift:"",code:"CapsLock",type:"functional"},{mainSymbol:"ё",shift:"Ё",code:"Backquote",type:"char"},{mainSymbol:"1",shift:"!",code:"Digit1",type:"number"},{mainSymbol:"2",shift:'"',code:"Digit2",type:"number"},{mainSymbol:"3",shift:"№",code:"Digit3",type:"number"},{mainSymbol:"4",shift:";",code:"Digit4",type:"number"},{mainSymbol:"5",shift:"%",code:"Digit5",type:"number"},{mainSymbol:"6",shift:":",code:"Digit6",type:"number"},{mainSymbol:"7",shift:"?",code:"Digit7",type:"number"},{mainSymbol:"8",shift:"*",code:"Digit8",type:"number"},{mainSymbol:"9",shift:"(",code:"Digit9",type:"number"},{mainSymbol:"0",shift:")",code:"Digit0",type:"number"},{mainSymbol:"-",shift:"_",code:"Minus",type:"number"},{mainSymbol:"=",shift:"+",code:"Equal",type:"number"},{mainSymbol:'<i class="fas fa-backspace"></i>',shift:"",code:"Backspace",type:"functional"},{mainSymbol:"Del",shift:"",code:"Delete",type:"functional"},{mainSymbol:'<span class="material-icons">keyboard_tab</span>',shift:"",code:"Tab",type:"functional"},{mainSymbol:"й",shift:"Й",code:"KeyQ",type:"char"},{mainSymbol:"ц",shift:"Ц",code:"KeyW",type:"char"},{mainSymbol:"у",shift:"У",code:"KeyE",type:"char"},{mainSymbol:"к",shift:"К",code:"KeyR",type:"char"},{mainSymbol:"е",shift:"Е",code:"KeyT",type:"char"},{mainSymbol:"н",shift:"Н",code:"KeyY",type:"char"},{mainSymbol:"г",shift:"Г",code:"KeyU",type:"char"},{mainSymbol:"ш",shift:"Ш",code:"KeyI",type:"char"},{mainSymbol:"щ",shift:"Щ",code:"KeyO",type:"char"},{mainSymbol:"з",shift:"З",code:"KeyP",type:"char"},{mainSymbol:"х",shift:"Х",code:"BracketLeft",type:"char"},{mainSymbol:"ъ",shift:"Ъ",code:"BracketRight",type:"char"},{mainSymbol:'<i class="fas fa-sign-in-alt"></i>',shift:"",code:"Enter",type:"functional"},{mainSymbol:"ф",shift:"Ф",code:"KeyA",type:"char"},{mainSymbol:"ы",shift:"Ы",code:"KeyS",type:"char"},{mainSymbol:"в",shift:"В",code:"KeyD",type:"char"},{mainSymbol:"а",shift:"А",code:"KeyF",type:"char"},{mainSymbol:"п",shift:"П",code:"KeyG",type:"char"},{mainSymbol:"р",shift:"Р",code:"KeyH",type:"char"},{mainSymbol:"о",shift:"О",code:"KeyJ",type:"char"},{mainSymbol:"л",shift:"Л",code:"KeyK",type:"char"},{mainSymbol:"д",shift:"Д",code:"KeyL",type:"char"},{mainSymbol:"ж",shift:"Ж",code:"Semicolon",type:"char"},{mainSymbol:"э",shift:"Э",code:"Quote",type:"char"},{mainSymbol:"\\",shift:"/",code:"Backslash",type:"number"},{mainSymbol:"Shift",shift:"",code:"ShiftLeft",type:"functional"},{mainSymbol:"/",shift:"|",code:"IntlBackslash",type:"number"},{mainSymbol:"я",shift:"Я",code:"KeyZ",type:"char"},{mainSymbol:"ч",shift:"Ч",code:"KeyX",type:"char"},{mainSymbol:"с",shift:"С",code:"KeyC",type:"char"},{mainSymbol:"м",shift:"М",code:"KeyV",type:"char"},{mainSymbol:"и",shift:"И",code:"KeyB",type:"char"},{mainSymbol:"т",shift:"Т",code:"KeyN",type:"char"},{mainSymbol:"ь",shift:"Ь",code:"KeyM",type:"char"},{mainSymbol:"б",shift:"Б",code:"Comma",type:"char"},{mainSymbol:"ю",shift:"Ю",code:"Period"},{mainSymbol:".",shift:",",code:"Slash",type:"char"},{mainSymbol:"Shift",shift:"",code:"ShiftRight",type:"functional"},{mainSymbol:"Ctrl",shift:"",code:"ControlLeft",type:"functional"},{mainSymbol:"Alt",shift:"",code:"AltLeft",type:"functional"},{mainSymbol:'<span class="material-icons">space_bar</span>',shift:"",code:"Space",type:"functional"},{mainSymbol:"Alt",shift:"",code:"AltRight",type:"functional"},{mainSymbol:"Ctrl",shift:"",code:"ControlRight",type:"functional"},{mainSymbol:"&larr;",shift:"",code:"ArrowLeft",type:"functional"},{mainSymbol:"&uarr;",shift:"",code:"ArrowUp",type:"functional"},{mainSymbol:"&darr;",shift:"",code:"ArrowDown",type:"functional"},{mainSymbol:"&rarr;",shift:"",code:"ArrowRight",type:"functional"},{mainSymbol:"ru",shift:"en",code:"Switch",type:"functional"},{mainSymbol:'<span class="material-icons">mic</span>',shift:'<span class="material-icons">mic_off</span>',code:"Mic",type:"functional"},{mainSymbol:'<span class="material-icons">volume_up</span>',shift:'<span class="material-icons">volume_off</span>',code:"Volume",type:"functional"},{mainSymbol:'<i class="far fa-times-circle"></i>',shift:"",code:"Close",type:"functional"}],en:[{mainSymbol:"`",shift:"~",code:"Backquote",type:"number"},{mainSymbol:"1",shift:"!",code:"Digit1",type:"number"},{mainSymbol:"2",shift:"@",code:"Digit2",type:"number"},{mainSymbol:"3",shift:"#",code:"Digit3",type:"number"},{mainSymbol:"4",shift:"$",code:"Digit4"},{mainSymbol:"5",shift:"%",code:"Digit5",type:"number"},{mainSymbol:"6",shift:"^",code:"Digit6",type:"number"},{mainSymbol:"7",shift:"&",code:"Digit7",type:"number"},{mainSymbol:"8",shift:"*",code:"Digit8",type:"number"},{mainSymbol:"9",shift:"(",code:"Digit9",type:"number"},{mainSymbol:"0",shift:")",code:"Digit0",type:"number"},{mainSymbol:"-",shift:"_",code:"Minus",type:"number"},{mainSymbol:"=",shift:"+",code:"Equal",type:"number"},{mainSymbol:'<i class="fas fa-backspace"></i>',shift:"",code:"Backspace",type:"functional"},{mainSymbol:"Delete",shift:"",code:"Delete",type:"functional"},{mainSymbol:'<span class="material-icons">keyboard_tab</span>',shift:"",code:"Tab",type:"functional"},{mainSymbol:"q",shift:"Q",code:"KeyQ",type:"char"},{mainSymbol:"w",shift:"W",code:"KeyW",type:"char"},{mainSymbol:"e",shift:"E",code:"KeyE",type:"char"},{mainSymbol:"r",shift:"R",code:"KeyR",type:"char"},{mainSymbol:"t",shift:"T",code:"KeyT",type:"char"},{mainSymbol:"y",shift:"Y",code:"KeyY",type:"char"},{mainSymbol:"u",shift:"U",code:"KeyU",type:"char"},{mainSymbol:"i",shift:"I",code:"KeyI",type:"char"},{mainSymbol:"o",shift:"O",code:"KeyO",type:"char"},{mainSymbol:"p",shift:"P",code:"KeyP",type:"char"},{mainSymbol:"[",shift:"{",code:"BracketLeft",type:"char"},{mainSymbol:"]",shift:"}",code:"BracketRight",type:"number"},{mainSymbol:'<i class="fas fa-sign-in-alt"></i>',shift:"",code:"Enter",type:"functional"},{mainSymbol:"CapsLock",shift:"",code:"CapsLock",type:"functional"},{mainSymbol:"a",shift:"A",code:"KeyA",type:"char"},{mainSymbol:"s",shift:"S",code:"KeyS",type:"char"},{mainSymbol:"d",shift:"D",code:"KeyD"},{mainSymbol:"f",shift:"F",code:"KeyF",type:"char"},{mainSymbol:"g",shift:"G",code:"KeyG"},{mainSymbol:"h",shift:"H",code:"KeyH",type:"char"},{mainSymbol:"j",shift:"J",code:"KeyJ",type:"char"},{mainSymbol:"k",shift:"K",code:"KeyK",type:"char"},{mainSymbol:"l",shift:"L",code:"KeyL",type:"char"},{mainSymbol:";",shift:":",code:"Semicolon",type:"number"},{mainSymbol:"'",shift:'"',code:"Quote",type:"number"},{mainSymbol:"\\",shift:"|",code:"Backslash",type:"number"},{mainSymbol:"Shift",shift:"",code:"ShiftLeft",type:"functional"},{mainSymbol:"<",shift:">",code:"IntlBackslash",type:"number"},{mainSymbol:"z",shift:"Z",code:"KeyZ",type:"char"},{mainSymbol:"x",shift:"X",code:"KeyX",type:"char"},{mainSymbol:"c",shift:"C",code:"KeyC",type:"char"},{mainSymbol:"v",shift:"V",code:"KeyV",type:"char"},{mainSymbol:"b",shift:"B",code:"KeyB",type:"char"},{mainSymbol:"n",shift:"N",code:"KeyN",type:"char"},{mainSymbol:"m",shift:"M",code:"KeyM",type:"char"},{mainSymbol:",",shift:"<",code:"Comma",type:"number"},{mainSymbol:".",shift:">",code:"Period",type:"number"},{mainSymbol:"/",shift:"?",code:"Slash",type:"number"},{mainSymbol:"Shift",shift:"",code:"ShiftRight",type:"functional"},{mainSymbol:"Ctrl",shift:"",code:"ControlLeft",type:"functional"},{mainSymbol:"Alt",shift:"",code:"AltLeft",type:"functional"},{mainSymbol:'<span class="material-icons">space_bar</span>',shift:"",code:"Space",type:"functional"},{mainSymbol:"Alt",shift:"",code:"AltRight",type:"functional"},{mainSymbol:"Ctrl",shift:"",code:"ControlRight",type:"functional"},{mainSymbol:"&larr;",shift:"",code:"ArrowLeft",type:"functional"},{mainSymbol:"&uarr;",shift:"",code:"ArrowUp",type:"functional"},{mainSymbol:"&darr;",shift:"",code:"ArrowDown",type:"functional"},{mainSymbol:"&rarr;",shift:"",code:"ArrowRight",type:"functional"},{mainSymbol:"en",shift:"ru",code:"Switch",type:"functional"},{mainSymbol:'<span class="material-icons">mic</span>',shift:'<span class="material-icons">mic_off</span>',code:"Mic",type:"functional"},{mainSymbol:'<span class="material-icons">volume_up</span>',shift:'<span class="material-icons">volume_off</span>',code:"Volume",type:"functional"},{mainSymbol:'<i class="far fa-times-circle"></i>',shift:"",code:"Close",type:"functional"}]};function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=c("main",null,'\n  <h1 class="title">RSS Virtual Keyboard</h1>\n  <h3 class="subtitle">Windows keyboard that has been made under OS Ubuntu</h3>\n  <div>\n    <audio data-key="ru" src="./assets/sounds/ru.mp3"></audio>\n    <audio data-key="en" src="./assets/sounds/en.mp3"></audio>\n    <audio data-key="backspace" src="./assets/sounds/backspace.mp3"></audio>\n    <audio data-key="del" src="./assets/sounds/del.mp3"></audio>\n    <audio data-key="shift" src="./assets/sounds/shift.mp3"></audio>\n    <audio data-key="capslock" src="./assets/sounds/capslock.mp3"></audio>\n    <audio data-key="enter" src="./assets/sounds/enter.mp3"></audio>\n  </div>\n');n.e(1).then(n.t.bind(null,1,7));new function t(e){var n,a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,"init",(function(){return a.keyBase=m[a.state.language],a.output=c("textarea","output",null,["placeholder","Start type something..."],["rows",5],["cols",50],["spellcheck",!1],["autocorrect","off"]),a.keyboardElement=c("div","keyboard hide",null,["language",a.state.language]),u.insertAdjacentElement("beforeend",a.output),u.insertAdjacentElement("beforeend",a.keyboardElement),u.insertAdjacentHTML("beforeend",'<button class="open">открыть клавиатуру</button>'),a.output.addEventListener("click",(function(){a.keyboardElement.classList.remove("hide")})),document.body.insertAdjacentElement("afterbegin",u),a.initMic(),a})),y(this,"switchLanguage",(function(){var t=Object.keys(m),e=t.indexOf(a.state.language);a.state.language=e+1<t.length?t[e+=1]:t[e-=e],localStorage.setItem("lang",a.state.language);try{a.recognition.lang="ru"===a.state.language?"ru-Ru":"en-US"}catch(t){}})),y(this,"playSound",(function(t){var e="ru"===a.state.language?"ru":"en";t.match(/Shift/)&&(e="shift"),t.match(/Enter/)&&(e="enter"),t.match(/Caps/)&&(e="capslock"),t.match(/Backspace/)&&(e="backspace"),t.match(/Del/)&&(e="del");var n=document.querySelector('audio[data-key="'.concat(e,'"]'));n&&(n.currentTime=0,n.play())})),y(this,"initMic",(function(){var t=window.SpeechRecognition||window.webkitSpeechRecognition;window.SpeechGrammarList||window.webkitSpeechGrammarList,window.SpeechRecognitionEvent||window.webkitSpeechRecognitionEvent;try{a.recognition=new t,a.recognition.interimResults=!1,a.recognition.lang="ru"===a.state.language?"ru-Ru":"en-US",a.recognition.addEventListener("result",(function(t){var e=Array.from(t.results).map((function(t){return t[0]})).map((function(t){return t.transcript})).join("").replace(/poop|poo|shit|dump/gi,"💩")+" ";if(t.results[0].isFinal){var n=a.output.selectionStart,o=a.output.selectionEnd,i=a.output.value.slice(0,n),r=a.output.value.slice(o);a.output.value="".concat(i).concat(e).concat(r),n+=e.length,a.output.setSelectionRange(n,n)}})),a.recognition.addEventListener("end",(function(){a.state.pressMic&&a.recognition.start()}))}catch(t){}})),y(this,"startMic",(function(){a.initMic();try{a.recognition.start()}catch(t){}})),y(this,"stopMic",(function(){try{a.recognition.removeEventListener("end",a.startMic),a.recognition.stop(),a.recognition=null}catch(t){}})),y(this,"render",(function(){a.keyBase=m[a.state.language],a.keyButtons.forEach((function(t){var e=a.keyBase.find((function(e){return e.code===t.code}));if(e){t.shift=e.shift,t.mainSymbol=e.mainSymbol;var n="mainSymbol";"number"===t.type&&(n=a.state.shiftNum?"mainSymbol":"shift"),"char"===t.type&&(n=a.state.shiftChar?"mainSymbol":"shift"),t.char=t[n],t.button.innerHTML=t[n]}}))})),y(this,"printToOutput",(function(t){var e=t.code,n=t.isFnKey,o=a.output.selectionStart,i=a.output.selectionEnd,r=a.output.value.slice(0,o),c=a.output.value.slice(i),s=a.output.value.slice(o,i),l={Tab:function(){a.output.value="".concat(r,"\t").concat(c),i=o+=1},ArrowLeft:function(){if(a.state.pressShift){if(a.positionCursorInStart){if((o=o-1>=0?o-1:0)>i){var t=[i,o];o=t[0],i=t[1],a.positionCursorInStart=!1}}else if(o>(i-=1)){var e=[i,o];o=e[0],i=e[1],a.positionCursorInStart=!0}}else i=o=o-1>=0?o-1:0},ArrowRight:function(){if(a.state.pressShift)if(a.positionCursorInStart){if((o+=1)>i){var t=[i,o];o=t[0],i=t[1],a.positionCursorInStart=!1}}else i+=1;else i=o+=1},ArrowUp:function(){var t=a.output.value.slice(0,o).match(/(\n).*$(?!\1)/g)||[[1]];o-=t[0].length,i=o},ArrowDown:function(){var t=a.output.value.slice(o).match(/^.*(\n).*(?!\1)/)||[[1]];o+=t[0].length,i=o},Enter:function(){a.output.value="".concat(r,"\n").concat(c),i=o+=1,console.log("sdadsa")},Delete:function(){a.output.value="".concat(r).concat(c.slice(1))},Backspace:function(){a.output.value="".concat(r.slice(0,-1)).concat(c),i=o-=1},Space:function(){a.output.value="".concat(r," ").concat(c),i=o+=1}};if(l[e])l[e](),a.output.setSelectionRange(o,i);else if(!n)if(a.state.pressCtrl&&"KeyC"===e)a.clipboard=s;else if(a.state.pressCtrl&&"KeyX"===e)a.clipboard=s,a.output.value="".concat(r).concat(c),i=o;else if(a.state.pressCtrl&&"KeyV"===e)a.output.value="".concat(r).concat(a.clipboard).concat(c),o+=a.clipboard.length,i=o;else if(a.state.pressCtrl&&"KeyA"===e)o=0,i=a.output.value.length;else{o+=1;var m=a.keyButtons.find((function(t){return t.code===e})).char;a.output.value="".concat(r).concat(m).concat(c),i=o}a.output.setSelectionRange(o,i)})),y(this,"generateLayout",(function(){a.keyButtons=[],a.rowsOrder.forEach((function(t,e){var n=c("div","keyboard__row",null,["row",e+1]);t.forEach((function(t){var e=a.keyBase.find((function(e){return e.code===t}));if(e){var o=new l(e);a.keyButtons.push(o),n.appendChild(o.button)}})),a.keyboardElement.appendChild(n)})),document.addEventListener("keydown",a.handleEvent),document.addEventListener("keyup",a.handleEvent),a.keyboardElement.onmousedown=a.preHandleEvent,a.keyboardElement.onmouseup=a.preHandleEvent,document.querySelector(".open").addEventListener("click",(function(){return a.keyboardElement.classList.remove("hide")}))})),y(this,"preHandleEvent",(function(t){t.stopPropagation();var e=t.target.closest(".keyboard__key");if(e){var n=e.dataset.code;e.addEventListener("mouseleave",a.resetButtonState),a.handleEvent({code:n,type:t.type,target:t.target}),e.addEventListener("mouseleave",(function(){a.handleEvent({code:n,type:"keyup",target:t.target})}))}})),y(this,"handleEvent",(function(t){t.stopPropagation&&t.stopPropagation();var e=t.code,n=t.type,o=a.keyButtons.find((function(t){return t.code===e}));if(o)if(a.output.focus(),n.match(/keydown|mousedown/))n.match(/mouse/)||t.preventDefault(),e.match(/Close/)&&a.keyboardElement.classList.add("hide"),e.match(/Switch/)&&a.switchLanguage(),e.match(/Shift/)&&(a.state.pressShift=!a.state.pressShift,a.state.shiftNum=!a.state.shiftNum,a.state.shiftChar=!a.state.shiftChar),e.match(/Caps/)&&(a.state.pressCaps=!a.state.pressCaps,a.state.shiftChar=!a.state.shiftChar),e.match(/Mic/)&&(a.state.pressMic=!a.state.pressMic,a.state.pressMic?a.startMic():a.stopMic()),e.match(/Volume/)&&(a.state.pressVolume=!a.state.pressVolume),e.match(/Control/)&&(a.state.pressCtrl=!0),e.match(/Alt/)&&(a.state.pressAlt=!0),e.match(/Shift|Caps|Switch/)&&a.render(),a.state.pressVolume&&a.playSound(e),a.printToOutput(o),o.button.classList.add("active");else if(t.type.match(/keyup|mouseup/)){if(e.match(/Control/)&&(a.state.pressCtrl=!1),e.match(/Alt/)&&(a.state.pressAlt=!1),e.match(/Shift/)&&a.state.pressShift||e.match(/Caps/)&&a.state.pressCaps||e.match(/Mic/)&&a.state.pressMic||e.match(/Volume/)&&a.state.pressVolume)return;o.button.classList.remove("active")}})),this.rowsOrder=e,this.clipboard="",this.keyboardElement=null,this.positionCursorInStart=!0,this.state={pressCaps:!1,pressShift:!1,pressAlt:!1,pressCtrl:!1,pressMic:!1,pressVolume:!1,language:null!==(n=localStorage.getItem("lang"))&&void 0!==n?n:"ru",shiftNum:!0,shiftChar:!0}}([["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace"],["Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","Delete"],["CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter"],["ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ArrowUp","ShiftRight","ControlRight"],["ControlLeft","Switch","AltLeft","Space","AltRight","ArrowLeft","ArrowDown","ArrowRight","Mic","Volume","Close"]]).init().generateLayout()}]);
//# sourceMappingURL=main.c328ab5ee2e1e79f0548.js.map